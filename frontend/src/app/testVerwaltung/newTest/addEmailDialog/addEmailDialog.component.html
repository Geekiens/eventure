<div style="text-align: left">
    <mat-horizontal-stepper [linear]="false" #stepper>
        <mat-step [stepControl]="firstFormGroup">
            <div style="float: left; width: 50%">
                <ng-template matStepLabel>Angaben zur Email</ng-template>
                <mat-form-field style="width:90%;">
                    <input matInput placeholder="Titel" required>
                </mat-form-field>
                <br>
                <mat-form-field style="width:90%;">
                    <input matInput placeholder="Absender" required>
                </mat-form-field>
                <br>
                <mat-form-field style="width:90%;">
                    <input matInput placeholder="Absendedatum (Tage vor Test)" required>
                </mat-form-field>
                <br>
                <br>

                <div style="width: 90%;">
                    <mat-checkbox [color]="'primary'" [(ngModel)]="erscheintDirekt">Die Email soll direkt zum Start des Tests im Postkorb liegen</mat-checkbox>
                </div>
                <mat-form-field *ngIf="!erscheintDirekt" style="width:90%;">
                    <input matInput placeholder="Email erscheint ... Minuten nach Testbeginn">
                </mat-form-field>
            </div>
            <div style="float: left; width: 50%">
                <mat-form-field style="width:99%;">
                    <textarea matInput matTextareaAutosize [matAutosizeMaxRows]=14 [matAutosizeMinRows]=14 placeholder="Text der Email"></textarea>
                </mat-form-field>
            </div>
            <div style=" clear: both;">
                <button mat-button matStepperNext>Weiter</button>
                <button mat-button (click)="saveEmail()">Email ohne Anwortoptionen speichern</button>
            </div>
        </mat-step>
        <mat-step [stepControl]="secondFormGroup">
            <div style="float: left; width: 50%">
                <ng-template matStepLabel>Antwortoptionen konfigurieren</ng-template>
                <button style="width:90%; margin-top:20px;" (click)="newOption()" mat-raised-button color="primary">Neue Antwortoption erstellen</button>
                <br>
                <span style="display:inline-block; margin-top: 20px;">
                    <b>Hinzugefügte Optionen </b>
                </span>
                <br>

                <div id="bindCSSAntwortOption" style="margin-top: 10px; width: 100%">
                    <mat-card *ngFor="let option of antwortOptionen" class="antwortOption" style="margin-top:5px; width:90%">
                        <mat-card-title>
                            {{option.titel}}
                        </mat-card-title>
                    </mat-card>
                </div>


            </div>



            <div style="float: left; width: 50%">
                <mat-form-field style="width:99%;">
                    <input [(ngModel)]=titel matInput placeholder="Titel" required>
                </mat-form-field>

                <mat-form-field style="width:99%;">
                    <!-- <input matInput placeholder="Benutzername" required> -->
                    <textarea matInput [(ngModel)]="text" matTextareaAutosize [matAutosizeMaxRows]=9 [matAutosizeMinRows]=9 placeholder="Text der Antwort"></textarea>
                </mat-form-field>

                <div style="width: 90%;">
                    <mat-checkbox [color]="'primary'" [(ngModel)]="hatFolgemail">Die Antwortoption löst eine automatische Folgemail des Systems aus</mat-checkbox>
                </div>

                <mat-form-field *ngIf="hatFolgemail" style="width:90%;">
                    <input matInput placeholder="Titel der Folgemail">
                </mat-form-field>

                <button style="width:99%; margin-top:20px;" (click)="addAnwortOption()" mat-raised-button color="primary">Antwortoption hinzufügen</button>

            </div>


            <div>
                <button mat-button matStepperPrevious>Zurück</button>
                <button mat-button matStepperNext>Weiter</button>
            </div>
        </mat-step>
        <mat-step>
            <ng-template matStepLabel>Abschließen
            </ng-template>
            
            Wollen Sie die neue Email jetzt speichern?
            <div style="text-align: center;">
                <p-organizationChart selectionMode="single" selection="selection" [value]="emailBaum"></p-organizationChart>
            </div>


            <div>
                <button mat-button (click)="saveEmail()" matStepperPrevious>Ja</button>
                <button mat-button (click)="stepper.reset()">Nein</button>
                <button mat-button matStepperPrevious>Zurück</button>

            </div>
        </mat-step>
    </mat-horizontal-stepper>

</div>